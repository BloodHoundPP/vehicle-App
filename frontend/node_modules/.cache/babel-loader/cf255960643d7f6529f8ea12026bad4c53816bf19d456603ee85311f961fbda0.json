{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Vehicle Tracker App\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport 'leaflet/dist/leaflet.css';\nimport './App.css';\n\n// Custom vehicle icon\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst vehicleIcon = new L.Icon({\n  iconUrl: 'https://cdn-icons-png.flaticon.com/512/854/854894.png',\n  iconSize: [32, 32],\n  iconAnchor: [16, 32] // adjusts where the point of the icon is anchored\n});\nfunction App() {\n  _s();\n  const [position, setPosition] = useState(null);\n  const [path, setPath] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const intervalRef = useRef(null);\n\n  // Function to fetch current vehicle position\n  const fetchLocation = async () => {\n    try {\n      const res = await axios.get('http://localhost:5000/api/location');\n      const {\n        latitude,\n        longitude\n      } = res.data;\n      const newPos = [latitude, longitude];\n      setPosition(newPos);\n      setPath(prev => [...prev, newPos]);\n    } catch (err) {\n      console.error('Error fetching location:', err);\n    }\n  };\n\n  // Handle simulation start/stop\n  useEffect(() => {\n    if (isRunning) {\n      fetchLocation(); // fetch immediately on play\n      intervalRef.current = setInterval(fetchLocation, 3000);\n    } else {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, [isRunning]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 10,\n        left: 10,\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsRunning(prev => !prev),\n        children: isRunning ? 'Pause' : 'Play'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [17.385044, 78.486671],\n      zoom: 17,\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), position && /*#__PURE__*/_jsxDEV(Marker, {\n        position: position,\n        icon: vehicleIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), path.length > 1 && /*#__PURE__*/_jsxDEV(Polyline, {\n        positions: path,\n        color: \"blue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"0FF+fu721qROV2DzMSeBxEqyReY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Marker","Polyline","L","axios","jsxDEV","_jsxDEV","vehicleIcon","Icon","iconUrl","iconSize","iconAnchor","App","_s","position","setPosition","path","setPath","isRunning","setIsRunning","intervalRef","fetchLocation","res","get","latitude","longitude","data","newPos","prev","err","console","error","current","setInterval","clearInterval","style","height","children","top","left","zIndex","onClick","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","width","url","icon","length","positions","color","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Vehicle Tracker App/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport 'leaflet/dist/leaflet.css';\nimport './App.css';\n\n// Custom vehicle icon\nconst vehicleIcon = new L.Icon({\n  iconUrl: 'https://cdn-icons-png.flaticon.com/512/854/854894.png',\n  iconSize: [32, 32],\n  iconAnchor: [16, 32], // adjusts where the point of the icon is anchored\n});\n\nfunction App() {\n  const [position, setPosition] = useState(null);\n  const [path, setPath] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const intervalRef = useRef(null);\n\n  // Function to fetch current vehicle position\n  const fetchLocation = async () => {\n    try {\n      const res = await axios.get('http://localhost:5000/api/location');\n      const { latitude, longitude } = res.data;\n      const newPos = [latitude, longitude];\n      setPosition(newPos);\n      setPath(prev => [...prev, newPos]);\n    } catch (err) {\n      console.error('Error fetching location:', err);\n    }\n  };\n\n  // Handle simulation start/stop\n  useEffect(() => {\n    if (isRunning) {\n      fetchLocation(); // fetch immediately on play\n      intervalRef.current = setInterval(fetchLocation, 3000);\n    } else {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, [isRunning]);\n\n  return (\n    <div style={{ height: '100vh', position: 'relative' }}>\n      {/* Play/Pause Button */}\n      <div style={{ position: 'absolute', top: 10, left: 10, zIndex: 1000 }}>\n        <button onClick={() => setIsRunning(prev => !prev)}>\n          {isRunning ? 'Pause' : 'Play'}\n        </button>\n      </div>\n\n      {/* Map Display */}\n      <MapContainer\n        center={[17.385044, 78.486671]}\n        zoom={17}\n        style={{ height: '100%', width: '100%' }}\n      >\n        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n\n        {position && (\n          <Marker position={position} icon={vehicleIcon} />\n        )}\n\n        {path.length > 1 && (\n          <Polyline positions={path} color=\"blue\" />\n        )}\n      </MapContainer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}